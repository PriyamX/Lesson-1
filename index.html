<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <style>
       body {
           display: flex;
           flex-direction: column;
           justify-content: center;
           align-items: center;
           height: 100vh;
       }
   </style>
    <title>Personal Expense calculator</title>
    
</head>
<body>
    <h1 id="htotal"> </h1>
    <input id="inputamt" type="text">
    <input id="inputDesc" type="text">
    <button id ="btnAddExpense">  ADD  </button>
    <div id="expenseTable"></div>
    <script>
    // get heading element
    const headingElement = document.querySelector("#htotal");
    //get the reference to desc element 
    const inputDescEl = document.querySelector("#inputDesc");
    //ref to input amount
    const inputElement= document.querySelector("#inputamt");
    //get the button element
    const element = document.querySelector("#btnAddExpense");
    //ref to table
    const expTableEl = document.querySelector("#expenseTable");
    // init value of expense at 0
    let totalexpense = 0;

    // set heading element to total expense
    headingElement.textContent = totalexpense; 

    // all exp at one place 
    const allExpenses = [];

    
        //onButtonClick add inputAmount to totalExpense
        function addExpensetoTotal(){
        //object 
        const expenseItem ={};

        //read value from input amount
        const textamount = inputElement.value;

        //read desc from inputDesc
        const textDesc = inputDescEl.value;
        console.log({textDesc, textamount});

     
        //convert it to number 
        const expense = parseInt(textamount, 10);

        //put it in the obj
        expenseItem.desc = textDesc;
        expenseItem.amount = expense;
        // console.log({expenseItem});

        //add that value to totalExpense
        totalexpense = totalexpense + expense;
        console.log({totalexpense});

        allExpenses.push(expenseItem);
        //console.clear;
        //console.table(allExpenses);
 
        //set heading element to total expense
        
        const result = `The total expense is : ${totalexpense}`
        headingElement.textContent = result;

        //Show the table here 
        // const data1 = allExpenses[0];
        // const data2 = allExpenses[1];
        
        // const data1Text = `Expense: ${data1.amount} :: Desc: ${data1.desc}`;
        // const data2Text = `Expense: ${data2.amount} :: Desc: ${data2.desc}`;

        // const tabletext = `
        // <div> ${data1Text} </div>
        // <div> ${data2Text} </div>
        // `

    const allExpensesHTML= allExpenses.map(expense => {
        return `<div> ${expense.amount} :: ${expense.desc} </div>`

    });

    const JoinedExpenseHTML = allExpensesHTML.join("");
        
        console.log(JoinedExpenseHTML);
        
        expTableEl.innerHTML =  JoinedExpenseHTML;
    
        }
        //Listen to click event 
        element.addEventListener("click",addExpensetoTotal,false);  

     </script> 
</body>
</html>
